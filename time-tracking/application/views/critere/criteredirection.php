<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/brands.min.css" integrity="sha512-DJLNx+VLY4aEiEQFjiawXaiceujj5GA7lIY8CHCIGQCBPfsEG0nGz1edb4Jvw1LR7q031zS5PpPqFuPA8ihlRA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/fontawesome.min.css" integrity="sha512-UuQ/zJlbMVAw/UU8vVBhnI4op+/tFOpQZVT+FormmIEhRSCnJWyHiBbEVgM4Uztsht41f3FzVWgLuwzUqOObKw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/regular.min.css" integrity="sha512-KYEnM30Gjf5tMbgsrQJsR0FSpufP9S4EiAYi168MvTjK6E83x3r6PTvLPlXYX350/doBXmTFUEnJr/nCsDovuw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/solid.min.css" integrity="sha512-Hp+WwK4QdKZk9/W0ViDvLunYjFrGJmNDt6sCflZNkjgvNq9mY+0tMbd6tWMiAlcf1OQyqL4gn2rYp7UsfssZPA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/svg-with-js.min.css" integrity="sha512-JgLoPAy0vc/kYzFhTyokdFDtyTdsU5TiJQ1zzMHL4aL0QnDdWGC5CnG3FZ7eRhncidUaFoqB7W/Hbs8X0cvzXQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/v4-font-face.min.css" integrity="sha512-WHAIm6Bs8D6XIfh5GerxXJYaZeBxhFlJ7S2ljFv70YpxTF2rLBVfBFXrzS9Fv9WYpeR64Zl256o6UeIpFOrBtg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/v4-shims.min.css" integrity="sha512-veZLkufL0qjcloU3GqyNh2cOqjduXLgni09I72g783Fyudzxcm2A7lxj6Qxn4YrnhJdD8rB9vkR+rOtfF4TZ1g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/v5-font-face.min.css" integrity="sha512-gb3xyfj/FrHtphPVLYaKBZ8WyMYEXD1+Cgt3FiKhFmbN2UuOpite2w1Lgmw6NzfsNmMGX+BbVra4ceV95z9Vaw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/all.min.js" integrity="sha512-u3fPA7V8qQmhBPNT5quvaXVa1mnnLSXUep5PS1qo5NRzHwG19aHmNJnj1Q8hpA/nBWZtZD4r4AX6YOt5ynLN2g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/brands.min.js" integrity="sha512-ojD9xRtdGdJLd9K/vMhV6GyO8G9wVrofDXmX4AjrKPctyKTLaVVwuAJhZanincPnSprZv1Nc3iDpxIi/6+Xv7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/conflict-detection.min.js" integrity="sha512-e3I3QsLqsuuhMnI0KneOCY3EIIhd55WU/7+hndOQayW2Fur2mdKAhbIEuEFCS/Npx83lqB0XhWzcjJXYIY5a3w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/fontawesome.min.js" integrity="sha512-1M9vud0lqoXACA9QaA8IY8k1VR2dMJ2Qmqzt9pN2AH7eQHWpNsxBpaayV0kKkUsF7FLVQ2sA2SSc8w5VOm7/mg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/regular.min.js" integrity="sha512-s0L3HnrNgQ+MciZHcaAlCjhbT5/p8JnZRjuV9CA/4qhX5ywNGy/4j8K6UBkFw5fdt2RVvn6aP4AKfKHhpkrKyA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/solid.min.js" integrity="sha512-BR7kmAOY+DL7VrNcDauAY0nOqLp58prNOuwMmes8bd5ET13AAorhPqzbCtH8BsGGG0/TTs9W4Tokbj4tMhFUFw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/v4-shims.min.js" integrity="sha512-1eyBIzeEcxyxJkTmQIGLrXo2AK9DVykziyPi7JkNR61HNC8y87OeqQFqvRwgwnqJpjxfUj43Fup0szvPrR3Ilg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<div class="modal fade bd-example-modal" id="modalapplycritere" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-md modal-dialog modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Appliquer un critère</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div><br>
      <h6 class="text-center">Voulez vous appliquer ce critère </h6>
      <input type="hidden" id="id_criteretoactive" value=""><br>

      <div class="modal-footer">
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">Annuler</button>
            <button type="button" id="confirmaapplicationcritere" value="" class="btn btn-primary btn-sm">Valider</button>
        </div>
    </div>
  </div>
</div>


<div class="modal fade bd-example-modal" id="modaldesactivecritere" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-md modal-dialog modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Supprimer un critère</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div><br>
      <h6 class="text-center">Etes vous sûre de vouloir supprimer ce critere</h6><br>
      <input type="hidden" id="id_criteretodesactive" value="">

      <div class="modal-footer">
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">Non</button>
            <button type="button" id="confirmdesactivationcritere" value="" class="btn btn-primary btn-sm">Oui</button>
        </div>
    </div>
  </div>
</div>

<div
	class="modal fade"
	id="modaladdcritere"
	data-bs-backdrop="static"
	data-bs-keyboard="false"
	tabindex="-1"
	aria-labelledby="modaladdcritere"
	aria-hidden="true"
>
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<form id="formaddcritere" method="post" action="<?= site_url('primecritere/insertcritere') ?>">
				<div class="modal-header">
					<h5 class="modal-title">Ajout critère</h5>
					<button
						type="button"
						class="btn-close"
						data-bs-dismiss="modal"
						aria-label="Close"
					></button>
				</div>
				<div class="modal-body">
					<div class="row container">
						<div class="col-md-12">
							<div class="row">
								<div class="col-sm-3">
									<label for="Criterecampagne">Libelle:</label>
								</div>
								<div class="col-sm-9">
									<input type="text" id="" class="form-control" name="critere_libelle">
								</div>
							</div><br>
							<div class="row">
								<div class="col-sm-3">
									<label for="Campagne">Campagnes:</label>
								</div>
								<div class="col-sm-9">
									<select name="campagne_critere" id="Criterecampagne" class="form-control">
										<option value=""></option>
									</select>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-sm-3">
									<label for="Profil">Profil:</label>
								</div>
								<div class="col-sm-9">
									<select name="profil_critere" id="profil" class="form-control">
										<option value=""></option>
									</select>
								</div>
							</div>
							<br/>
							<div>
								<div class="row">
									<div class="col-sm-3">
										<label for="Process">Process:</label>
									</div>
									<div class="col-sm-9">
										<select
											name="prime_process"
											id="primeprocesscampagne"
											class="form-control"
										>
											<option value=""></option>
										</select>
									</div>
								</div>
							</div>
							<br>
							<div>
								<div class ="row">
									<div class = "col-sm-3">
										<label for="">Types :</label>
									</div>
									<div class = "col-sm-9">
										<select class="form-control" name="critere_type" id="TypeCritere">
											<option value=""></option>
										</select>
									</div>

								</div>
								
							</div>
							<br>
							<div>
								<div class ="row">
									<div class = "col-sm-3">
										<label for="">Frequences :</label>
									</div>
									<div class = "col-sm-9">
										<select class="form-control" name="frequence_critere" id="FrequenceCritere">
											<option value=""></option>
										</select>
									</div>

								</div>
								
							</div>
							<br>
							<div class="row">
								<div class="col-sm-3">
									<label for="radiocritere">Formats :</label>
								</div>
								<div class="col-sm-9" style="" id="allcriterebase" >
									<div class="form-check">
										<input
											name="Critere_format"
											class="form-check-input"
											type="radio"
											id=""
											value="anciennete"
										/>
										<label class="form-check-label" for="">Anciennetés</label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="Critere_format"
											id=""
											value="volume"
										/>
										<label class="form-check-label" for="">Volumes</label>
									</div>
									<div class="form-check">
										<input
											name="Critere_format"

											class="form-check-input"
											type="radio"
											name=""
											id=""
											value="saison"
										/>
										<label class="form-check-label" for="">Saison</label>
									</div>
									<div class="form-check">
										<input
											name="Critere_format"

											class="form-check-input"
											type="radio"
											id=""
											value="QS"
										/>
										<label class="form-check-label" for="">QS</label>
									</div>
									<div class="form-check">
										<input
											name="Critere_format"
											class="form-check-input"
											type="radio"
											id=""
											value="jt"
										/>
										<label class="form-check-label" for=""
											>Jours travaillés</label
										>
									</div>
								</div>
								<div class="col-sm-9" id="allprimequalitesetex">
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											id=""
											value=""
										/>
										<label class="form-check-label" for="">Objectifs</label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											id=""
											value=""
										/>
										<label class="form-check-label" for="">Note</label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="flexRadioDefault"
											id=""
											value=""
										/>
										<label class="form-check-label" for="">Discours</label>
									</div>

								</div>
							</div>
							<br />

							<div class="Anciennetes">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Anciennetés:</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-less-than-equal"></i>
										</button>
									</div>
									<div class="col-sm-3">
										<input type="number" class="form-control" />
									</div>
									<div class="col-sm-4">
										<select name="" id="" class="form-control">
											<option value="">Semaines</option>
											<option value="">Mois</option>
											<option value="">An(s)</option>
										</select>
									</div>
								</div><br>
								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs :</label>
									</div>
									<div class="col-sm-8">
										<input type="number" name="objectif_critere" id="" class="form-control" />
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>

							<div class="Volume">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Choix :</label>
									</div>
									<div class="col-sm-8">
										<select name="Volume" id="" class="form-control">
											<option value="">Quantité</option>
											<!-- <option value="">Production</option> -->
										</select>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs:</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-equal"></i>
										</button>
									</div>
									<div class="col-sm-7">
										<input type="number" name="objectif_critere" id="" class="form-control"/>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>
							<div class="Saison">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Choix :</label>
									</div>
									<div class="col-sm-8">
										<select name="" id="" class="form-control">
											<option value="">Basse saison</option>
											<option value="">Haute saison</option>
										</select>
									</div>
								</div>
								<br />

								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs :</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-plus"></i>
										</button>
									</div>
									<div class="col-sm-7">
										<input type="number" name="objectif_critere" id="" class="form-control" />
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>

							<div class="QS">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Choix :</label>
									</div>
									<div class="col-sm-8">
										<select name="" id="" class="form-control">
											<option value="">DMT</option>
											<option value="">Taux de décrochés</option>
											<option value="">Qualité de traitement</option>
										</select>
									</div>
								</div>
								<br />

								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs :</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-less-than-equal"></i>
										</button>
									</div>
									<div class="col-sm-7">
										<input type="number" name="objectif_critere" id="" class="form-control" />
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>
							<br />
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
						Fermer
					</button>
					<button type="submit" id="button" class="btn btn-primary" id="SubtmitCritere">
						Enregister
					</button>
				</div>

			</form>
			
		</div>
	</div>
</div>


<!-- Modal modification critere -->

<div
	class="modal fade"
	id="modalmodifcritere"
	data-bs-backdrop="static"
	data-bs-keyboard="false"
	tabindex="-1"
	aria-labelledby="modaladdcritere"
	aria-hidden="true"
>
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<form id="formaddcritere">
				<div class="modal-header">
					<h5 class="modal-title">Modification d'un critère</h5>
					<button
						type="button"
						class="btn-close"
						data-bs-dismiss="modal"
						aria-label="Close"
					></button>
				</div>
				<div class="modal-body">
					<div class="row container">
						<div class="col-md-12">
							<div class="row">
								<div class="col-sm-3">
									<label for="Campagne">Campagnes:</label>
								</div>
								<div class="col-sm-9">
									<select name="campagne_critere" id="Criterecampagne" class="form-control">
										<option value=""></option>
									</select>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-sm-3">
									<label for="Profil">Profil:</label>
								</div>
								<div class="col-sm-9">
									<select name="profil_critere" id="profil" class="form-control">
										<option value=""></option>
									</select>
								</div>
							</div>
							<br/>
							<div>
								<div class="row">
									<div class="col-sm-3">
										<label for="Process">Process:</label>
									</div>
									<div class="col-sm-9">
										<select
											name="prime_critere"
											id="primeprocesscampagne"
											class="form-control"
										>
											<option value=""></option>
										</select>
									</div>
								</div>
							</div>
							<br>
							<div>
								<div class ="row">
									<div class = "col-sm-3">
										<label for="">Types :</label>
									</div>
									<div class = "col-sm-9">
										<select class="form-control" name="critere_type" id="TypeCritere">
											<option value=""></option>
										</select>
									</div>

								</div>
							</div>
							<br>
							<div>
								<div class ="row">
									<div class = "col-sm-3">
										<label for="">Frequences:</label>
									</div>
									<div class = "col-sm-9">
										<select class="form-control" name="frequence_critere" id="FrequenceCritere">
											<option value=""></option>
										</select>
									</div>

								</div>
								
							</div>
							<br>
							<div class="row">
								<div class="col-sm-3">
									<label for="radiocritere">Formats :</label>
								</div>
								<div class="col-sm-9" style="" id="allcriterebase" >
									<div class="form-check">
										<input
											name="Critere_format"
											class="form-check-input"
											type="radio"
											id=""
											value="anciennete"
										/>
										<label class="form-check-label" for="">Anciennetés</label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="Critere_format"
											id=""
											value="volume"
										/>
										<label class="form-check-label" for="">Volumes</label>
									</div>
									<div class="form-check">
										<input
											name="Critere_format"

											class="form-check-input"
											type="radio"
											name=""
											id=""
											value="saison"
										/>
										<label class="form-check-label" for="">Saison</label>
									</div>
									<div class="form-check">
										<input
											name="Critere_format"

											class="form-check-input"
											type="radio"
											id=""
											value="QS"
										/>
										<label class="form-check-label" for="">QS</label>
									</div>
									<div class="form-check">
										<input
											name="Critere_format"
											class="form-check-input"
											type="radio"
											id=""
											value="jt"
										/>
										<label class="form-check-label" for=""
											>Jours travaillés</label
										>
									</div>
								</div>
								<div class="col-sm-9" id="allprimequalitesetex">
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											id=""
											value="Objectif"
										/>
										<label class="form-check-label" for="">Objectifs</label>
									</div>

									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="flexRadioDefault"
											id=""
											value=""
											name="Discours"
										/>
										<label class="form-check-label" for="">Discours</label>
									</div>

								</div>
							</div>
							<br/>

							<div class="Anciennetes">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Anciennetés:</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-less-than-equal"></i>
										</button>
									</div>
									<div class="col-sm-3">
										<input type="number" class="form-control" />
									</div>
									<div class="col-sm-4">
										<select name="C" id="" class="form-control">
											<option value="Semaines">Semaines</option>
											<option value="Mois">Mois</option>
											<option value="An(s)">An(s)</option>
										</select>
									</div>
								</div><br>
								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs :</label>
									</div>
									<div class="col-sm-8">
										<input type="number" name="objectif_critere" id="" class="form-control" />
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>

							<div class="Volume">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Choix :</label>
									</div>
									<div class="col-sm-8">
										<select name="Choix" id="" class="form-control">
											<option value="">Quantité</option>
											<option value="">Production</option>
										</select>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs:</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-equal"></i>
										</button>
									</div>
									<div class="col-sm-7">
										<input type="number" name="objectif_critere" id="" class="form-control"/>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>
							<div class="Saison">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Choix :</label>
									</div>
									<div class="col-sm-8">
										<select name="choix" id="" class="form-control">
											<option value="">Basse saison</option>
											<option value="">Haute saison</option>
										</select>
									</div>
								</div>
								<br />

								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs :</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-plus"></i>
										</button>
									</div>
									<div class="col-sm-7">
										<input type="number" name="objectif_critere" id="" class="form-control" />
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>

							<div class="QS">
								<div class="row">
									<div class="col-sm-4">
										<label for="">Choix :</label>
									</div>
									<div class="col-sm-8">
										<select name="Choix" id="" class="form-control">
											<option value="">DMT</option>
											<option value="">Taux de décrochés</option>
											<option value="">Qualité de traitement</option>
										</select>
									</div>
								</div>
								<br />

								<div class="row">
									<div class="col-sm-4">
										<label for="">Objectifs :</label>
									</div>
									<div class="col-sm-1">
										<button class="btn btn-primary add">
											<i class="fa fa-less-than-equal"></i>
										</button>
									</div>
									<div class="col-sm-7">
										<input type="number" name="objectif_critere" id="" class="form-control" />
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-sm-4">
										<label for="">Montants :</label>
									</div>
									<div class="col-sm-8">
										<input type="text" name="montant_critere" id="" class="form-control" />
									</div>
								</div>
							</div>
							<br />
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
						Fermer
					</button>
					<button type="" id="button" class="btn btn-primary" id="SubtmitCritere">
						Enregister
					</button>
				</div>

			</form>
			
		</div>
	</div>
</div>




<div class="row">
    <div class="col-md-3">
        <button id="addcritere" class="btn btn-primary mx-2" ><i class="fa fa-plus-circle pr-2"></i>Ajouter</button>
    </div>
</div><br>

<div class="row">
		<div class="col-sm-1">
			<label for="Campagne">Campagnes:</label>
		</div>
		<div class="col-sm-3">
			<select name="" id="campagneflitre" class="form-control">
				<option value=""></option>
			</select>
		</div>

		<div class ="col-sm-1"></div>
		<div class="col-sm-1">
			<label for="Campagne">Profil:</label>
		</div>
		<div class="col-sm-3">
			<select name="" id="profilflitre" class="form-control">
				<option value=""></option>
			</select>
		</div>

</div>
<br />

<div class="row">
	<div class="col-md-12">
		<table
			id="TableCritere"
			class="table-striped table-bordered text-center"
			style="width: 100%"
			>
			<thead>
				<tr>
					<th>Critère libelle</th>
					<th>Campagne</th>
					<th>Type</th>
					<th>Frequence</th>
					<th>Format</th>
					<th>Profil</th>
					<th>Process</th>
					<th>Critère</th>
					<th>Objectifs</th>
					<th>Montant</th>
					<th>Action</th>
				
				</tr>
			</thead>
		</table>
			
	</div>
</div>

<script type="text/javascript">
    $(document).ready(function()
    {
		var id_filter = 0;

		var TableCritere = $("#TableCritere").DataTable(

			{
				language: {
					url: "<?= base_url('assets/datatables/fr-FR.json'); ?>"
				},
				ajax:  '<?= site_url('primecritere/getprimedirection/') ?>' + id_filter,
				columns: [
					{data:"primecritere_libelle"},
					{data:"campagne_libelle"},
					{data :"primetypecritere_libelle"},
					{data: "primefrequencecritere_libelle"},
					{data: "primecritere_format"},
					{data:"primeprofil_libelle"},
					{data: "process_libelle"},
					{data:"primecritere_critere"},
					{data :"primecritere_objectif"},
					{data :"primecritere_montant"},
					{ 
					data : null,
						render : function(data, type, row)
						{
							if(row.primecritere_etatcritere == '1') 
								return '<button id="" class=" btn btn-sm bg-warning badge h3" style="color:white" data-id_critere = "'+data.primecritere_id+'">A valider</button>';
							
							else if(row.primecritere_etatcritere == '2')
								return '<button class="btn-sm btn bg-success badge h3" style="color:white">Appliqué</button>';
							else if(row.primecritere_etatcritere == '3')
								return '<button class="btn-sm btn bg-danger badge h3" style="color:white">Non validé</button>';
							else if(row.primecritere_etatcritere == '4')
								return '<button class="btn-sm btn bg-danger badge h3" style="color:white">A supprimer</button>';
						}
            		},
					{
						data : null,
						render: function ( data, type, row ) {

							if(row.primecritere_etatcritere == '1') 
								return '<button id="validercritere" class="btn btn-sm btn-succes" data-id_critere = "'+data.primecritere_id+'"><i class="fa fa-check"></i></button><button title="supprimer" data-id="'+data.primecritere_id+'" class="desactive_critere btn btn-danger btn-sm mr-1"><i class="fa fa-trash "></i></button>';
							else{
								return '<button title="supprimer" data-id="'+data.primecritere_id+'" class="desactive_critere btn btn-danger btn-sm mr-1"><i class="fa fa-trash "></i></button>';

							}// return '<button title="modifer" data-id="'+data.primecritere_id+'" class="modifier_critere btn btn-primary btn-sm mr-1"><i class="fa fa-edit"></i></button><button title="supprimer" data-id="'+data.primecritere_id+'" class="desactive_critere btn btn-danger btn-sm mr-1"><i class="fa fa-remove"></i></button>';

						}
                	}

					
    			]
				
			});

        $(".Anciennetes, .Volume, .Saison, .QS").hide();
        $("#allcriterebase, #allprimequalitesetex").hide();

		function LoadCampagne()
		{
			$('#campagneflitre').html('');
                //On récupère la liste des campagnes via ajax
                $.ajax({
                    url : '<?= site_url('apietp/campagne/') . $top['userid'] ?>',
                    method : 'get',
                    dataType : 'json',
                    success : function(resp){
                        let options = '<option value=""></option>';
                        resp.data.forEach(function(cmp){
                            options += '<option value="'+cmp.campagne_id+'">'+cmp.campagne_libelle+'</option>';
                        })
                        $('#campagneflitre').html(options);

                    } 
                })
		}

		function LoadTypeCritere()
        { 
            $('#TypeCritere').html('');
            $.ajax({
                url : '<?= site_url('apiprimecritere/typecritere') ?>',
                method : 'get',
                dataType : 'json',
                success : function(resp){
                    let options = '<option value=""></option>';
                    resp.data.forEach(function(criteretype){
                        options += '<option value="'+criteretype.primetypecritere_id+'">'+criteretype.primetypecritere_libelle+'</option>';
                    })
                    $('#TypeCritere').html(options);
                } 
            })
        }

		function LoadFrequenceCritere()
        { 
            $('#FrequenceCritere').html('');
            $.ajax({
                url : '<?= site_url('apiprimecritere/frequencecritere') ?>',
                method : 'get',
                dataType : 'json',
                success : function(resp){
                    let options = '<option value=""></option>';
                    resp.data.forEach(function(frequencecritere){
                        options += '<option value="'+frequencecritere.frequencecritere_id+'">'+frequencecritere.frequencecritere_libelle+'</option>';
                    })
                    $('#FrequenceCritere').html(options);
                } 
            })
        }
		LoadFrequenceCritere();

		LoadCampagne();

        $(document).on("click","#addcritere", function(){
            $('#Criterecampagne').html('');
                //On récupère la liste des campagnes via ajax
                $.ajax({
                    url : '<?= site_url('apietp/campagne/') . $top['userid'] ?>',
                    method : 'get',
                    dataType : 'json',
                    success : function(resp){
                        let options = '<option value=""></option>';
                        resp.data.forEach(function(cmp){
                            options += '<option value="'+cmp.campagne_id+'">'+cmp.campagne_libelle+'</option>';
                        })
                        $('#Criterecampagne').html(options);
                        $("#modaladdcritere").modal("show");

                    } 
                })


        });



		$(document).on("click",".modifier_critere", function(){
            $('#Criterecampagnemodif').html('');
                //On récupère la liste des campagnes via ajax
                $.ajax({
                    url : '<?= site_url('apietp/campagne/') . $top['userid'] ?>',
                    method : 'get',
                    dataType : 'json',
                    success : function(resp){
                        let options = '<option value=""></option>';
                        resp.data.forEach(function(cmp){
                            options += '<option value="'+cmp.campagne_id+'">'+cmp.campagne_libelle+'</option>';
                        })
                        $('#Criterecampagnemodif').html(options);
                        $("#modalmodifcritere").modal("show");

                    } 
                })


        });



        $(document).on("change", "#allcriterebase input[type='radio']", function(){
            var valeur = $(this).val();

            // Masquer toutes les sections spécifiques aux critères
            $(".Anciennetes, .Volume, .Saison, .QS").hide();


            if (valeur === "anciennete") {
                $(".Anciennetes").show();
            } else if (valeur === "volume") {
                $(".Volume").show();
            } else if (valeur === "saison") {
                $(".Saison").show();
            } else if (valeur === "QS") {
                $(".QS").show();
            }


        });

        $(".add").click(function() 
        {
            var icon = $(this).find('i');
            if (icon.hasClass('fa-plus')) {
            icon.removeClass('fa-plus').addClass('fa-minus');
			let operateur = "plus";
            } else if (icon.hasClass('fa-minus')) {
            icon.removeClass('fa-minus').addClass('fa-equals');
            } else if (icon.hasClass('fa-equals')) {
            icon.removeClass('fa-equals').addClass('fa-less-than-equal');
            } else if (icon.hasClass('fa-less-than-equal')) {
            icon.removeClass('fa-less-than-equals').addClass('fa-more-than-equal');
            }
            else if (icon.hasClass('fa-more-than-equal')) {
            icon.removeClass('fa-more-than-equals').addClass('fa-plus');
            } 
        });

        $(document).on('change', '#Criterecampagne', function()
        {
                $('#primeprocesscampagne').html('');
                let mission = $(this).val();
                let campagne = $('#Criterecampagne option:selected').val();
                //On récupère la liste des missions via ajax
                $.ajax({
                    url : '<?= site_url('apietp/primecampagne/') ?>' + campagne,
                    method : 'get',
                    dataType : 'json',
                    success : function(resp){
                        let options = '<option value=""></option>';
                        resp.data.forEach(function(process){
                            options += '<option value="'+process.process_id+'">'+process.process_libelle+'</option>';
                        })
                        $('#primeprocesscampagne').html(options);
                    } 
                })


				$('#profil').html('');
                //On récupère la liste des missions via ajax
                $.ajax({
                    url : '<?= site_url('apiprimecritere/primecritereprofilbycampagne/') ?>' + campagne,
                    method : 'get',
                    dataType : 'json',
                    success : function(resp){
                        let optioncritereprofil = '<option value=""></option>';
                        resp.data.forEach(function(profil){
                            optioncritereprofil += '<option value="'+profil.primeprofil_id+'">'+profil.primeprofil_libelle+'</option>';
                        })
                        $('#profil').html(optioncritereprofil);
                    } 
                })
        })

		$(document).on("click", ".desactive_critere", function(){
			let critere_id = $(this).data('id');
			$("#id_criteretodesactive").val(critere_id);
			$('#modaldesactivecritere').modal('show');
		})

        


        $(document).on('change', '#TypeCritere', function()
        {
            $("#allcriterebase, #allprimequalitesetex").hide();
            let idtypecritere = $('#TypeCritere option:selected').val();

            if (idtypecritere == "1") {
                $("#allcriterebase").show();
            } else if (idtypecritere == "2") {
                $(".Anciennetes, .Volume, .Saison, .QS").hide();
                $("#allprimequalitesetex").show();

            }  
        })

		$(document).on('click', '#SubtmitCritere', function(){
			console.log("testsubmit");
			// $("#formaddcritere").submit(function (){
			// 	console.log("testsubmit");
			// 	$.ajax({
			// 		url : '<?= site_url('Apiprimecritere/critere') ?>',
			// 		method : 'post',
			// 	success : function(resp){
			// 		console.log(resp.data);

			// 	}
			// 	})

			// });
			
			
		})

		$(document).on("change", "#campagneflitre", function (){
			id_filter = 0;
			id_filter = $('#campagneflitre option:selected').val();
			TableCritere.ajax.url('<?= site_url('primecritere/getprimecritere/') ?>' + id_filter).load();

			
		});

		$(document).on("click","#validercritere", function()
		{
			let critere_id = $(this).data('id_critere');
			$('#modalapplycritere').modal("show");
			$("#id_criteretoactive").val(critere_id);



      	});

		$(document).on("click", "#confirmaapplicationcritere", function(){
			let critere_id = $("#id_criteretoactive").val();
			$.ajax({
                    type:"POST",
                    url: "<?= site_url("primecritere/applicationcriteredirection"); ?>",
                    data: { critere_id : critere_id},
                    success: function(data)
                    {
						
						
                    }
            })
			

		})

		$(document).on("click", "#confirmdesactivationcritere", function(){
			let critere_id = $("#id_criteretodesactive").val();
			$.ajax({
                    type:"POST",
                    url: "<?= site_url("primecritere/desactivecriteredirection"); ?>",
                    data: { critere_id : critere_id},
                    success: function(data)
                    {
						$('#modaldesactivecritere').modal('hide');

						TableCritere.ajax.url('<?= site_url('primecritere/getprimecritere/5') ?>').load();

						
						
                    }
            })
			

		})











		LoadTypeCritere();

		



      
           

       
    });

      

</script>